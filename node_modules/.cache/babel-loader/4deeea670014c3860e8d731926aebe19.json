{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\skoru\\\\Desktop\\\\Mobilna ksiazka kucharska\\\\src\\\\components\\\\Login.js\";\nimport React, { useContext, useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button, Container, Grid } from \"@material-ui/core\";\nimport { Card } from \"@material-ui/core\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { authStates, withAuth } from \"../components/auth\";\nimport en from \"../utils/i18n\";\nimport Loader from \"../components/loader\";\nimport { signIn } from \"../utils/firebase\";\nimport { validateEmailPassword } from \"../utils/helpers\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    \"& .MuiTextField-root\": {\n      margin: theme.spacing(1),\n      width: 200\n    }\n  }\n}));\n\nconst Login = props => {\n  const classes = useStyles();\n  const [redirect, setRedirect] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  const handleInputChange = event => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    name == \"email\" ? setValues({\n      email: value,\n      password: values.password\n    }) : setValues({\n      email: values.email,\n      password: value\n    });\n    setError(error);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const errorMsg = validateEmailPassword(values.email, values.password);\n\n    if (errorMsg) {\n      setError(errorMsg);\n      return;\n    }\n\n    signIn(values.email, values.password).catch(e => {\n      setError(\"Nieprawidłowy adres e-mail/hasło\");\n    });\n  };\n\n  if (props.authState === authStates.INITIAL_VALUE) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (props.authState === authStates.LOGGED_IN) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 12\n      }\n    });\n  }\n\n  const errorMsg = error;\n  return /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"sm\",\n    className: \"cards\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.root,\n    noValidate: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    onChange: handleInputChange,\n    name: \"password\",\n    type: \"password\",\n    value: values.password,\n    id: \"standard-error\",\n    label: \"Has\\u0142o:\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    onChange: handleInputChange,\n    name: \"email\",\n    type: \"email\",\n    value: values.email,\n    id: \"standard-error\",\n    label: \"Adres e-mail:\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, error)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSubmit,\n    style: {\n      marginBottom: 20\n    },\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, \"Zaloguj\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, en.FORM_FIELDS.LOGIN_ALT_TEXT), /*#__PURE__*/React.createElement(Link, {\n    to: \"/rejestracja\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"Zarejestruj si\\u0119\"))))));\n};\n\nexport default withAuth(Login);","map":{"version":3,"sources":["C:/Users/skoru/Desktop/Mobilna ksiazka kucharska/src/components/Login.js"],"names":["React","useContext","useState","TextField","makeStyles","Button","Container","Grid","Card","Link","Redirect","authStates","withAuth","en","Loader","signIn","validateEmailPassword","useStyles","theme","root","margin","spacing","width","Login","props","classes","redirect","setRedirect","error","setError","values","setValues","email","password","handleInputChange","event","target","value","name","handleSubmit","preventDefault","errorMsg","catch","e","authState","INITIAL_VALUE","LOGGED_IN","color","marginBottom","FORM_FIELDS","LOGIN_ALT_TEXT"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button, Container, Grid } from \"@material-ui/core\";\nimport { Card } from \"@material-ui/core\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nimport { authStates, withAuth } from \"../components/auth\";\nimport en from \"../utils/i18n\";\nimport Loader from \"../components/loader\";\nimport { signIn } from \"../utils/firebase\";\nimport { validateEmailPassword } from \"../utils/helpers\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& .MuiTextField-root\": {\n      margin: theme.spacing(1),\n      width: 200,\n    },\n  },\n}));\n\nconst Login = (props) => {\n  const classes = useStyles();\n  const [redirect, setRedirect] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [values, setValues] = useState({ email: \"\", password: \"\" });\n\n  const handleInputChange = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    name == \"email\"\n      ? setValues({ email: value, password: values.password })\n      : setValues({ email: values.email, password: value });\n\n    setError(error);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    const errorMsg = validateEmailPassword(values.email, values.password);\n\n    if (errorMsg) {\n      setError(errorMsg);\n      return;\n    }\n\n    signIn(values.email, values.password)\n      .catch((e) => {\n        setError(\"Nieprawidłowy adres e-mail/hasło\");\n      });\n  };\n\n  if (props.authState === authStates.INITIAL_VALUE) {\n    return <Loader />;\n  }\n\n  if (props.authState === authStates.LOGGED_IN) {\n    return <Redirect to=\"/\"></Redirect>;\n  }\n\n  const errorMsg = error;\n  return (\n    <Container maxWidth=\"sm\" className=\"cards\">\n      <Card className=\"list\">\n        <form className={classes.root} noValidate autoComplete=\"off\">\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <TextField\n                onChange={handleInputChange}\n                name=\"password\"\n                type=\"password\"\n                value={values.password}\n                id=\"standard-error\"\n                label=\"Hasło:\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                onChange={handleInputChange}\n                name=\"email\"\n                type=\"email\"\n                value={values.email}\n                id=\"standard-error\"\n                label=\"Adres e-mail:\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <p style={{ color: \"red\" }}>{error}</p>\n            </Grid>\n            <Grid item xs={12}>\n              <Button\n                onClick={handleSubmit}\n                style={{ marginBottom: 20 }}\n                variant=\"contained\"\n                color=\"primary\"\n              >\n                Zaloguj\n              </Button>\n              <p>{en.FORM_FIELDS.LOGIN_ALT_TEXT}</p>\n              <Link to=\"/rejestracja\">Zarejestruj się</Link>\n            </Grid>\n          </Grid>\n        </form>\n      </Card>\n    </Container>\n  );\n};\nexport default withAuth(Login);\n"]},"metadata":{},"sourceType":"module"}