{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tomek\\\\Desktop\\\\ksiazka\\\\src\\\\components\\\\Register.js\";\nimport React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button, Container, Grid } from \"@material-ui/core\";\nimport { Card } from \"@material-ui/core\";\nimport { Redirect } from \"react-router-dom\";\nimport { authStates, withAuth } from \"../components/auth\";\nimport { createNewUser } from \"../utils/firebase\";\nimport Loader from \"../components/loader\";\nimport { validateEmailPassword } from \"../utils/helpers\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    \"& .MuiTextField-root\": {\n      margin: theme.spacing(1),\n      width: 200\n    }\n  }\n}));\n\nconst Register = props => {\n  const classes = useStyles();\n  const [error, setError] = useState(\"\");\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  const handleInputChange = event => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    name == \"email\" ? setValues({\n      email: value,\n      password: values.password\n    }) : setValues({\n      email: values.email,\n      password: value\n    });\n    console.log(values);\n    setError(error);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (error) {\n      return;\n    } //Validate email & password\n\n\n    const errorMsg = validateEmailPassword(values.email, values.password);\n\n    if (errorMsg) {\n      setError(errorMsg);\n      return;\n    }\n\n    createNewUser(values.email, values.password).then(() => {\n      console.log(\"Signed Up!\");\n    }).catch(e => {\n      console.log(\"Error signing up\", e);\n\n      if (e.code === \"auth/email-already-in-use\") {\n        setError(\"Adres e-mail jest już w użyciu\");\n      }\n    });\n  };\n\n  if (props.authState === authStates.INITIAL_VALUE) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (props.authState === authStates.LOGGED_IN) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"sm\",\n    className: \"cards\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.root,\n    noValidate: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    onChange: handleInputChange,\n    name: \"password\",\n    type: \"password\",\n    value: values.password,\n    id: \"standard-error\",\n    label: \"Has\\u0142o:\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    onChange: handleInputChange,\n    name: \"email\",\n    type: \"email\",\n    value: values.email,\n    id: \"standard-error\",\n    label: \"Adres e-mail:\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, error))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSubmit,\n    style: {\n      marginBottom: 20\n    },\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"Zarejestruj\"))))));\n};\n\nexport default withAuth(Register);","map":{"version":3,"sources":["C:/Users/Tomek/Desktop/ksiazka/src/components/Register.js"],"names":["React","useState","TextField","makeStyles","Button","Container","Grid","Card","Redirect","authStates","withAuth","createNewUser","Loader","validateEmailPassword","useStyles","theme","root","margin","spacing","width","Register","props","classes","error","setError","values","setValues","email","password","handleInputChange","event","target","value","name","console","log","handleSubmit","preventDefault","errorMsg","then","catch","e","code","authState","INITIAL_VALUE","LOGGED_IN","color","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button, Container, Grid } from \"@material-ui/core\";\nimport { Card } from \"@material-ui/core\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { authStates, withAuth } from \"../components/auth\";\nimport { createNewUser } from \"../utils/firebase\";\nimport Loader from \"../components/loader\";\nimport { validateEmailPassword } from \"../utils/helpers\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& .MuiTextField-root\": {\n      margin: theme.spacing(1),\n      width: 200,\n    },\n  },\n}));\n\nconst Register = (props) => {\n  const classes = useStyles();\n  const [error, setError] = useState(\"\");\n  const [values, setValues] = useState({ email: \"\", password: \"\" });\n\n  const handleInputChange = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    name == \"email\"\n      ? setValues({ email: value, password: values.password })\n      : setValues({ email: values.email, password: value });\n\n    console.log(values);\n    setError(error);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (error) {\n      return;\n    }\n\n    //Validate email & password\n    const errorMsg = validateEmailPassword(values.email, values.password);\n\n    if (errorMsg) {\n      setError(errorMsg);\n      return;\n    }\n\n    createNewUser(values.email, values.password)\n      .then(() => {\n        console.log(\"Signed Up!\");\n      })\n      .catch((e) => {\n        console.log(\"Error signing up\", e);\n        if (e.code === \"auth/email-already-in-use\") {\n          setError(\"Adres e-mail jest już w użyciu\");\n        }\n      });\n  };\n\n  if (props.authState === authStates.INITIAL_VALUE) {\n    return <Loader />;\n  }\n\n  if (props.authState === authStates.LOGGED_IN) {\n    return <Redirect to=\"/\"></Redirect>;\n  }\n\n  return (\n    <Container maxWidth=\"sm\" className=\"cards\">\n      <Card className=\"list\">\n        <form className={classes.root} noValidate autoComplete=\"off\">\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <TextField\n                onChange={handleInputChange}\n                name=\"password\"\n                type=\"password\"\n                value={values.password}\n                id=\"standard-error\"\n                label=\"Hasło:\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                onChange={handleInputChange}\n                name=\"email\"\n                type=\"email\"\n                value={values.email}\n                id=\"standard-error\"\n                label=\"Adres e-mail:\"\n              />\n              <Grid item xs={12}>\n                <p style={{ color: \"red\" }}>{error}</p>\n              </Grid>\n            </Grid>\n            <Grid item xs={12}>\n              <Button\n                onClick={handleSubmit}\n                style={{ marginBottom: 20 }}\n                variant=\"contained\"\n                color=\"primary\"\n              >\n                Zarejestruj\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </Card>\n    </Container>\n  );\n};\n\nexport default withAuth(Register);\n"]},"metadata":{},"sourceType":"module"}